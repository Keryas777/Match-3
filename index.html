<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>Match-3</title>
  <link rel="stylesheet" href="./style.css?v=1337" />
</head>

<body>

  <header class="topbar">
    <div class="brand">
      <div class="brandTitle">Match-3 â€” BUILD 1337</div>
      <div class="brandSub">Niv <b id="level">1</b></div>
    </div>

    <div class="hudCards">
      <div class="card">
        <div class="label">â­ Best</div>
        <div class="value" id="best">0</div>
      </div>

      <div class="card">
        <div class="label">ğŸ¯ Score</div>
        <div class="value" id="score">0</div>
      </div>

      <div class="card">
        <div class="label">ğŸª„ Coups</div>
        <div class="value" id="moves">0</div>
      </div>
    </div>

    <div class="actions">
      <button id="newGame" type="button">Recommencer</button>
    </div>
  </header>

  <main class="layout">
    <section class="boardWrap">
      <canvas id="game" width="640" height="640"></canvas>
    </section>

    <section class="dock">
      <div class="dockHeader">
        <div class="dockTitle">Objectifs</div>
        <div id="status" class="status">â³ En attente...</div>
      </div>
      <ul id="objectives" class="objectives"></ul>
    </section>
  </main>

  <!-- Test JS inline -->
  <script>
    document.getElementById("status").textContent =
      "âœ… JS inline OK";
  </script>

  <!-- Chargement dynamique game.js avec vÃ©rification -->
  <script>
    const scr = document.createElement("script");
    scr.src = "./game.js?v=1337";

    scr.onload = () => {
      document.getElementById("status").textContent =
        "âœ… game.js chargÃ©";
    };

    scr.onerror = () => {
      document.getElementById("status").textContent =
        "âŒ game.js introuvable ou non chargÃ©";
      alert("game.js ne se charge pas. VÃ©rifie le nom exact + l'emplacement.");
    };

    document.body.appendChild(scr);
  </script>

</body>
</html>